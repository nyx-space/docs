---
authors:
  - me
date: 2024-10-17
categories:
  - ANISE
  - Documentation
readtime: 2
links:
  - ../../hifitime/index.md
  - ../../anise/tutorials/index.md
  - ../../anise/explanation/index.md
---

# Hifitime version 4.0.0

Months of development and testing finally culminate in version 4.0.0 of Hifitime!

Hifitime is a reference time management library for engineering and scientific applications. Specifically, Hifitime inherently supports leap seconds, time scales, Julian dates, and is free from rounding errors for over 65 thousand years and down to a single nanosecond, cf. the [design details](../../hifitime/design.md). Hifitime is used to [plan lunar missions](https://fireflyspace.com/missions/blue-ghost-mission-1/), used onboard various spacecraft, on ground communication systems to coordinate satellite communications, and in exciting research on global navigation satellite systems like GPS and Galileo.

Click [here for the Rust user guide](../../hifitime/rust.md) and [here for the Python user guide](../../hifitime/python.md).

## Key breaking changes

The most important change in this refactoring is that Epochs now keep the time in their own time scales. This greatly simplifies conversion between time scales, and ensures that all computations happen in the same time scale as the initialization time scale, then no sub-nanosecond rounding error could be introduced. Thanks [Guillaume](https://github.com/gwbres) for all this hard work.

Durations are now serialized using their representation in the _Système International_ (SI). In version 3.x, a 20 nanosecond duration was serialized in JSON as `{"centuries": 0, "nanoseconds": 200}`. Now, that same duration will be serialized as a string directly: `200 ns`. The largest unit in the serialization is `days`, e.g. 1.23456789 centuries will be serialized as `45092 days 14 h 12 min 44 s 546 ms 399 μs 744 ns`.

## Bug fixes

All date times in Hifitime are represented as a duration past the reference epoch of that time scale. As such, representing date times in Gregorian format, e.g. 29 February 1940, requires computing that format from the exact duration. Version 3.x had a more complicated and more error prone implementation of this algorithm, and was finicky for dates prior to 1800. The algorithm in version 4 is much simpler, and so far, no bugs have been found. Note that this is a Gregorian representation, so you won't see any jumping in the date times when Western Europe switched from the Julian to the Gregorian calendar: Hifitime assumes that the Gregorian calendar always was.

## License change

[The period of comment](https://github.com/nyx-space/hifitime/discussions/274) has been opened since the start of the year, and hearing no objection, Hifitime version 4 is licensed under the Mozilla Public License version 2.0.

![blog-post-image](../../assets/hifitime.jpg)
